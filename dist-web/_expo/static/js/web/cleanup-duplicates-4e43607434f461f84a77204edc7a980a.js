__d(function(g,r,i,_a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.removeDuplicateRecurringTemplates=async function(){const t={removed:0,kept:0,duplicates:[]};try{const n=await o.recurringTemplatesStorage.getAll();console.log(`[Cleanup] Found ${n.length} total recurring templates`);const a=new Map;for(const t of n){const o=a.get(t.name)||[];o.push(t),a.set(t.name,o)}for(const[n,l]of a.entries())if(l.length>1){console.log(`[Cleanup] Found ${l.length} duplicate templates of "${n}"`),t.duplicates.push(n),l.sort((t,o)=>new Date(t.createdAt).getTime()-new Date(o.createdAt).getTime());const[a,...c]=l;console.log(`[Cleanup] Keeping template ${a.id} (created ${a.createdAt})`),t.kept++;for(const n of c)console.log(`[Cleanup] Removing duplicate template ${n.id} (created ${n.createdAt})`),await o.recurringTemplatesStorage.delete(n.id),t.removed++}return console.log(`[Cleanup] Template cleanup complete: removed ${t.removed}, kept ${t.kept}`),t}catch(t){throw console.error('[Cleanup] Template cleanup failed:',t),t}},e.removeDuplicateEvents=async function(){const o={removed:0,kept:0,duplicates:[]};try{const n=await t.eventsLocalStorage.getAll();console.log(`[Cleanup] Found ${n.length} total events`);const a=new Map;for(const t of n){const o=a.get(t.name)||[];o.push(t),a.set(t.name,o)}for(const[n,l]of a.entries())if(l.length>1){console.log(`[Cleanup] Found ${l.length} duplicates of "${n}"`),o.duplicates.push(n),l.sort((t,o)=>new Date(t.createdAt).getTime()-new Date(o.createdAt).getTime());const[a,...c]=l;console.log(`[Cleanup] Keeping event ${a.id} (created ${a.createdAt})`),o.kept++;for(const n of c)console.log(`[Cleanup] Removing duplicate ${n.id} (created ${n.createdAt})`),await t.eventsLocalStorage.delete(n.id),o.removed++}return console.log(`[Cleanup] Complete: removed ${o.removed}, kept ${o.kept}`),o}catch(t){throw console.error('[Cleanup] Failed:',t),t}};var t=r(d[0]),o=r(d[1])},855,[821,839]);